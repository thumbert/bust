
TODO:
- Experiment writing a Rust UDF function in DuckDB
- Experiment connecting Dart to Rust via FFI 
- Fix ISONE TTC api, don't like it.  Make it work for NECEC too. 

# 2026-02-04
- Work on isone/calendar_events.rs

## 2026-01-30
- Add custom serialization/deserialization for hour_beginning for Caiso public_bids_archive struct
  to ignore the timezone.

## 2026-01-25
- Add nyiso_binding_constraints to the DuckDB data flow.

## 2026-01-23
- Changed the nyiso/dalmp.rs archive to unzip the ISO file and avoid the DuckDB zipfs 
  extension.
- Add a benchmark for count_hours  

## 2026-01-15, version 0.3.1
- Add endpoint /calendar/buckets/all
- Add endpoint to calculate hours in term for a bucket.  Good example of how to 
  return errors on the request. 
- Make archive with ISONE masked bids/offers for the annual capacity reconfiguration 
  auction.  Create endpoint. 
- Several improvements to TermTz and DateTz, regarding parsing and serialization  

## 2026-01-07
- Probably now it's working as planned.  

## 2026-01-05
- Maybe we have a working version of the Caiso public bids API. 

## 2025-12-30
- Expose fields from Caiso API structs.
- Job to download the Caiso public bids.  Fix DuckDB ingestion by specifying the column types. 

## 2025-12-29
- Work on Caiso public bids archive and endpoint.  Not finished.

## 2025-12-23
- Finished Caiso DA LMP endpoint
- Pass all tests

## 2025-12-22
- Working Caiso DA LMP endpoints 

## 2025-12-17
- Add Caiso buckets
- Start archiving Caiso DA LMP prices, start work on endpoints

## 2025-12-10
- Beginning Caiso work

## 2025-12-08
- Implement the alert for ISONE peak load forecast change.

## 2025-11-29
- Expose several structs to the public API. 

## 2025-11-26
- Add an access_mode argument to `open_with_retry`. 

## 2025-11-16 (version 0.2.0)
- Make all test pass by working around DuckDB's one connection a time limitation.  I introduced 
  `execute_batch_with_retry` and `open_with_retry` that allow for an exponential backoff 
  when trying to open/use an existing DB.  This way, when the server or a client needs to use 
  the same database, there is greater resiliency by building in some wait time.
- Cleaning of various lints to bring the project Problems to 0.     
- Rewired `server_bust` so it uses `app_data` for all end points.

## 2025-11-10
- Add end point for calculation of FTR monthly settle prices

## 2025-11-07
- Add end point for LMP calculation for custom terms in isone.  Yay.  Should probably abstract it for 
  NYISO and PJM markets too.  

## 2025-11-05
- Inject the isone da and rt lmp dbs into the server.

## 2025-10-31
- Started the update_isone_daas_strike_prices too.  **Good example on how to load json into DuckDB when 
  some row may be missing some columns**.  

## 2025-10-27
- Work on NYISO transmission outages.  Good example of fluid API with a builder for the query, etc.
- Add ISONE participant_list API and archive.  First time making use of the Rust generating code.  
- Start using app_data in server_bust to make the code more generic and reusable from other places. 

## 2025-10-20
- Expose API for DA NYISO prices.  Some file renaming, etc.   
- Add an endpoint with a compact view of prices.  To use in MCC surfer.   

## 2025-10-10
- Improve the ISONE energy offers API, return the hour_beginning and not the timestamp.

## 2025-09-29
- Automate the ISONE 7 day capacity report.

## 2025-09-26
- Automate the Statistics Canada energy production job. 

## 2025-09-24
- Add NYISO scheduled_outages

## 2025-09-15
- Add HQ total system demand data (30-min with gaps, preliminary)
- Add HQ total system demand data (hourly, finalized)
- Add HQ RT hourly fuel mix data

## 2025-09-07
- Add IESO generation_output_by_fuel archive.
- Add API for IESO DAM prices.

## 2025-09-01
- Update IESO DALMP archives, downloader.

## 2025-08-25
- Improvements to SeriesTz, maybe I found a decent design.  Let's see how it holds. 

## 2025-08-23
- Extend term parser to days and day ranges.  Improve parsing for month_txt.
- Add term_tz, month_tz 
- Add more buckets 

## 2025-07-26
- Add ISONE actual interchange data archive. 

## 2025-07-14
- Add ISONE hourly DALMP API.  Maybe this is the lucky time where I stick with it.

## 2025-07-07
- Added DAAS offers API.  Have custom json serialization to skip the timezone info in the 
  hour_beginning field. 

## 2025-06-23
- Fix the MCC calculation in the NYISO DALMP report for spreads

## 2025-06-16
- Finish NYISO DALMP report 

## 2025-06-13
- Work on TTC data for ISONE.  See example how to insert correctly into existing SQL table. 
- Work on masked import export bids/offers for ISONE

## 2025-06-02
- Work on NYISO DAM price report
- Put NYISO DAM prices in DuckDB
- Work on IESO DAM prices

## 2025-04-17
- Bump DuckDB to 1.2.2 to fix json package compilation

## 2025-04-09
- Add env argument to server_bust
- Show job names too in admin/jobs

## 2025-04-07
- Add support for admin/jobs endpoints

## 2025-03-31
- Fix bug with end of month in month.days()

## 2025-03-18
- Add a function to check if the ISONE DAM has been published

## 2025-03-12
- Work on daas_reserve_data_archive

## 2025-03-10
- Add NRC API to the server

## 2025-02-07
- Expose sd_daasdt API
- Use actix web::Data to pass in the MIS archives to the API

## 2025-02-03
- Expose API for sr_rsvcharge2 and sr_rsvstl2 reports.
- Finished preliminary work on the sd_daasdt report. 

## 2025-01-24
- Removed some chrono dependencies.  Will need to rewrite the files. 

## 2025-01-21
- Create a trait MisArchiveDuckDB.
- Clean-up a bit the sd_rtload implementation.
- Add more functionality to interval/month.rs

## 2025-01-20
- Various improvements to db/isone/mis/lib_mis.rs.  An attempt to define the flow 
  for one report (SD_RTLOAD). 

## 2024-12-24
- Code to download and archive NRC generation status. 

## 2024-12-14
- Work on HQ water level.  Set up job to download the data daily and archive to DuckDB
- Add an API for HQ water level data.  Improve the bin/update_hq_hydro_data.rs. 
- Add a justfile to check it out if useful.  So far, it's convenient!

## 2024-10-30
- ISONE seven day solar forecast work. 
- Add parsing of ISONE hour_ending format to deal with '02X' in db/isone/mis/lib_mis.rs.

## 2024-10-23
- ISONE seven day solar forecast archive example.  Save it to DuckDB.
- Use jiff to define a Month without a tz, and pest for the parser (not yet finished)

## 2024-09-29
- Minor fixes, added a test.env file. 

## 2024-08-22
- Move to only one .env file
- Clean nyiso energy offers endpoints

## 2024-08-19
- Cleanup and more tests for the energy offers

## 2024-08-05
- Add ISONE energy offer stack endpoint

# 2024-07-26
- Added nyiso dam energy offers endpoint

# 2024-05-11
- Experiment with DuckDb.  Promising.

# 2024-04-28
- Have a term parser working using the Pest parsing library.  
